module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},92541,(a,b,c)=>{"use strict";b.exports=a.r(95087).vendored.contexts.AppRouterContext},20371,(a,b,c)=>{"use strict";b.exports=a.r(95087).vendored.contexts.HooksClientContext},3127,(a,b,c)=>{"use strict";b.exports=a.r(95087).vendored.contexts.ServerInsertedHtml},55440,(a,b,c)=>{"use strict";b.exports=a.r(95087).vendored["react-ssr"].ReactServerDOMTurbopackClient},1064,(a,b,c)=>{"use strict";b.exports=a.r(95087).vendored["react-ssr"].ReactDOM},39774,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},57851,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(43915),e=a.r(39774),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},8888,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(43915),c=a.i(43311),d=a.i(99884),e=a.i(87614),f=a.i(7994),g=a.i(87351);function h(){let{data:a,status:h}=(0,d.useSession)(),i=(0,e.useRouter)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)({facilityId:"",title:"",description:"",startDate:void 0,endDate:void 0,equipment:[]}),[t,u]=(0,c.useState)(void 0);(0,c.useEffect)(()=>{"unauthenticated"===h&&i.push("/auth/signin")},[h,i]),(0,c.useEffect)(()=>{v()},[]),(0,c.useEffect)(()=>{t?.from&&t?.to&&s(a=>({...a,startDate:t.from,endDate:t.to}))},[t]);let v=async()=>{try{let[a,b]=await Promise.all([fetch("/api/facilities"),fetch("/api/equipment")]);if(a.ok){let b=await a.json();k(b)}if(b.ok){let a=await b.json();m(a)}}catch(a){console.error("Error fetching data:",a)}finally{o(!1)}},w=async a=>{a.preventDefault(),q(!0);try{let a=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok){let b=await a.json();alert("Booking berhasil dibuat!"),i.push(`/dashboard/bookings/${b.id}`)}else{let b=await a.json();alert(b.error||"Gagal membuat booking")}}catch(a){console.error("Error creating booking:",a),alert("Terjadi kesalahan saat membuat booking")}finally{q(!1)}};return"loading"===h||n?(0,b.jsx)(g.default,{children:(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#E04E4E]"})})}):(0,b.jsx)(g.default,{children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#1F1F1F]",children:"Buat Booking Baru"}),(0,b.jsx)("p",{className:"text-[#7A7A7A] mt-2",children:"Isi form di bawah untuk membuat booking fasilitas"})]}),(0,b.jsxs)("form",{onSubmit:w,className:"bg-white rounded-xl border border-gray-200 p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[#1F1F1F] mb-2",children:"Nama Kegiatan *"}),(0,b.jsx)("input",{type:"text",required:!0,value:r.title,onChange:a=>s({...r,title:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#E04E4E] focus:border-transparent outline-none",placeholder:"Contoh: Workshop Robotik"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[#1F1F1F] mb-2",children:"Pilih Fasilitas *"}),(0,b.jsxs)("select",{required:!0,value:r.facilityId,onChange:a=>s({...r,facilityId:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#E04E4E] focus:border-transparent outline-none",children:[(0,b.jsx)("option",{value:"",children:"Pilih Fasilitas"}),j.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[#1F1F1F] mb-2",children:"Pilih Tanggal *"}),(0,b.jsx)("div",{className:"bg-[#FFF0F0] border-2 border-[#E04E4E] rounded-lg p-4 inline-block",children:(0,b.jsx)(f.DayPicker,{mode:"range",selected:t,onSelect:u,disabled:{before:new Date},className:"!text-[#5C5C5C]",modifiersClassNames:{selected:"bg-[#E04E4E]",range_start:"bg-[#E04E4E] text-white rounded-l-full",range_end:"bg-[#E04E4E] text-white rounded-r-full",range_middle:"bg-[#FFF0F0] text-[#E04E4E]",today:"text-black font-bold"}})}),t?.from&&t?.to&&(0,b.jsxs)("p",{className:"mt-2 text-sm text-[#7A7A7A]",children:["Dari: ",t.from.toLocaleDateString()," - Sampai:"," ",t.to.toLocaleDateString()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[#1F1F1F] mb-2",children:"Deskripsi"}),(0,b.jsx)("textarea",{value:r.description,onChange:a=>s({...r,description:a.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#E04E4E] focus:border-transparent outline-none resize-none",placeholder:"Jelaskan detail kegiatan Anda..."})]}),l.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-[#1F1F1F] mb-2",children:"Peralatan Tambahan (Opsional)"}),(0,b.jsx)("div",{className:"space-y-3",children:l.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-[#E04E4E] transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-[#1F1F1F]",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-[#7A7A7A]",children:["Tersedia: ",a.available," dari ",a.quantity]})]}),(0,b.jsx)("input",{type:"number",min:"0",max:a.available,placeholder:"0",className:"w-20 px-3 py-2 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-[#E04E4E] focus:border-transparent outline-none",onChange:b=>{var c,d;return c=a.id,d=b.target.value,void s(a=>{let b=a.equipment.findIndex(a=>a.equipmentId===c);if(0===d||""===d)return{...a,equipment:a.equipment.filter(a=>a.equipmentId!==c)};if(!(b>=0))return{...a,equipment:[...a.equipment,{equipmentId:c,quantity:parseInt(d)}]};{let c=[...a.equipment];return c[b].quantity=parseInt(d),{...a,equipment:c}}})}})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>i.back(),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Batal"}),(0,b.jsx)("button",{type:"submit",disabled:p||!r.facilityId||!t?.from||!t?.to,className:"flex-1 px-6 py-3 bg-[#E04E4E] text-white rounded-lg font-medium hover:bg-[#c93e3e] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Memproses...":"Buat Booking"})]})]})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__55ba239a._.js.map